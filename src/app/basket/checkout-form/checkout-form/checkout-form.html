<div class="card mt-3">
  <div class="card-header">Paiement</div>

  <div class="card-body">
    <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
      <div class="mb-2">
        <label class="form-label" for="field-name">Nom</label>
        <input
          id="field-name"
          formControlName="name"
          name="name"
          class="form-control"
          [class.is-invalid]="isInvalidAndTouchedOrDirty(name)"
        />
        <span class="invalid-feedback">Champ obligatoire</span>
      </div>

      <div class="mb-2">
        <label class="form-label" for="field-address">Adresse</label>
        <textarea
          id="field-address"
          formControlName="address"
          name="address"
          class="form-control"
          [class.is-invalid]="isInvalidAndTouchedOrDirty(address)"
        ></textarea>
        <span class="invalid-feedback">Champ obligatoire</span>
      </div>

      <div class="mb-2">
        <label class="form-label" for="field-creditCard">Carte de crÃ©dit</label>
        <input
          id="field-creditCard"
          formControlName="creditCard"
          name="creditCard"
          class="form-control"
          [class.is-invalid]="isInvalidAndTouchedOrDirty(creditCard)"
        />
        <span class="invalid-feedback">Champ obligatoire</span>
        <span class="invalid-feedback">NumÃ©ro invalide (exemple : 123-456)</span>
      </div>

      <div class="mt-3">
        <button type="submit" class="btn btn-success">Valider</button>
      </div>
    </form>
  </div>
</div>

@if (hasError) {
  <div class="mt-3 alert alert-danger alert-dismissible" role="alert">
    DÃ©solÃ©, une erreur s'est produite.
    <button type="button" class="btn-close" aria-label="Close"></button>
  </div>
}

@if (isCheckoutComplete) {
  <div class="mt-3 alert alert-success" role="alert">
    <h4 class="alert-heading">Confirmation de la commande ğŸ‰</h4>
    nÂ° de transaction: <strong>1</strong>
    <hr />
    <a class="alert-link">Retourner Ã  l'accueil</a>
  </div>
}
